import{$ as x,$a as Ue,A as q,Aa as xt,B as mt,C as he,D as A,Da as _e,E as B,Ea as Oe,F as _,Fa as Te,G as u,Ga as Ae,H as Q,Ha as we,I as U,Ia as Me,J as z,Ja as De,Ka as je,L as Ft,La as ke,M as ct,Ma as Pe,N as at,O as me,Oa as Re,P as ge,Pa as Fe,Q as ve,Qa as Nt,R as gt,Ra as It,Sa as Ne,Ta as $e,U as M,Ua as Le,V as F,Va as $t,W as Se,Wa as bt,X as tt,Xa as Be,Y as ye,Ya as O,Z as N,Za as Lt,_a as Bt,a as R,aa as I,ab as y,b as J,ba as $,bb as ze,c as ot,ca as Ee,cb as T,d as ie,da as xe,db as Ct,e as re,ea as Ie,eb as Ve,f as oe,fa as ft,fb as He,g as se,ga as K,gb as Ge,h as ce,hb as Ze,i as Z,ib as We,j as ae,ja as D,k as E,l as kt,la as be,lb as Ke,m as Y,ma as vt,mb as Xe,n as P,na as St,o as W,oa as yt,p as Pt,q as lt,r as dt,ra as V,s as fe,sa as H,t as pe,u as st,v as Rt,w as ue,wa as Ce,x as le,y as de,ya as Et,z as ht}from"./chunk-GOJTMRWW.js";function Hn(e,t){e&1&&(x(0,"li",8)(1,"a",14),D(2,"Favorites"),I()())}var Je=(()=>{let t=class t{constructor(n){this.store=n,this.isCollapsed=!0,this.routerLinkActiveOptions={exact:!0},this.isLoggedIn$=this.store.select(T.getToken).pipe(E(i=>!!i))}};t.\u0275fac=function(i){return new(i||t)(F(O))},t.\u0275cmp=U({type:t,selectors:[["app-header"]],decls:21,vars:6,consts:[[1,"navbar","navbar-expand-lg","bg-white"],[1,"container-fluid"],[1,"navbar-brand"],["src","assets/images/logo.png","alt","Landkit"],["type","button","aria-controls","navbarSupportedContent",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse",3,"ngbCollapseChange","ngbCollapse"],[1,"navbar-nav","m-auto","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/articles","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["class","nav-item",4,"ngIf"],[1,"d-flex"],[1,"navbar-nav","me-auto","mb-lg-0"],["aria-current","page","href","#",1,"nav-link"],["aria-current","page","routerLink","/favorites","routerLinkActive","active",1,"nav-link"]],template:function(i,o){i&1&&(x(0,"nav",0)(1,"div",1)(2,"a",2),$(3,"img",3),I(),x(4,"button",4),ft("click",function(){return o.isCollapsed=!o.isCollapsed}),$(5,"span",5),I(),x(6,"div",6),yt("ngbCollapseChange",function(s){return St(o.isCollapsed,s)||(o.isCollapsed=s),s}),x(7,"ul",7)(8,"li",8)(9,"a",9),D(10,"Articles"),I()(),tt(11,Hn,3,0,"li",10),V(12,"async"),I(),x(13,"div",11)(14,"ul",12)(15,"li",8)(16,"a",13),D(17,"Login"),I()(),x(18,"li",8)(19,"a",13),D(20,"Sign Up"),I()()()()()()()),i&2&&(M(4),ye("aria-expanded",!o.isCollapsed),M(2),vt("ngbCollapse",o.isCollapsed),M(3),N("routerLinkActiveOptions",o.routerLinkActiveOptions),M(2),N("ngIf",H(12,4,o.isLoggedIn$)))},dependencies:[Et,ke,Pe,We,xt],styles:[".navbar[_ngcontent-%COMP%]{--bs-navbar-padding-y: .844rem}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{--bs-nav-link-font-weight: 900;--bs-nav-link-color: #506690;--bs-nav-link-hover-color: #335EEA}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#335eea}"]});let e=t;return e})();function Zn(e,t){if(e&1&&(x(0,"span",9),D(1),V(2,"async"),I()),e&2){let r=K(2);M(),be("",H(2,1,r.postsCount$)," RESULTS")}}function Wn(e,t){e&1&&(Ee(0),D(1,"ing"),xe())}function Kn(e,t){if(e&1){let r=Ie();x(0,"div",1)(1,"label",2),me(),x(2,"svg",3),$(3,"path",4),I()(),ge(),x(4,"input",5),V(5,"async"),yt("ngModelChange",function(i){ct(r);let o=K();return St(o.searchInput,i)||(o.searchInput=i),at(i)}),ft("keyup.enter",function(){ct(r);let i=K();return at(i.search())})("keyup.esc",function(){ct(r);let i=K();return at(i.searchInput="")}),I(),tt(6,Zn,3,3,"span",6),V(7,"async"),x(8,"button",7),V(9,"async"),ft("click",function(){ct(r);let i=K();return at(i.search())}),D(10," Search"),tt(11,Wn,2,0,"ng-container",8),V(12,"async"),I()()}if(e&2){let r=K();M(4),vt("ngModel",r.searchInput),N("disabled",!!H(5,5,r.isLoading$)),M(2),N("ngIf",!H(7,7,r.isLoading$)),M(2),N("disabled",H(9,9,r.isLoading$)),M(3),N("ngIf",H(12,11,r.isLoading$))}}var Ye=(()=>{let t=class t{constructor(n){this.store=n,this.searchInput="",this.showSearcher=!0,this._currentView="",this.postsCount$=this.store.select(T.getPostsCount),this.isLoading$=this.store.select(T.isLoading),this.store.select(T.getActiveView).subscribe(i=>{this._currentView=i;let o=/^articles\/[0-9]+$/i.test(i);this.showSearcher=!o,this.searchInput=""}),this.store.select(T.hasPaginationFinished).subscribe(i=>{i&&(this.searchInput="")})}search(){this.store.dispatch(y.searchPosts({search:this.searchInput,view:this._currentView}))}};t.\u0275fac=function(i){return new(i||t)(F(O))},t.\u0275cmp=U({type:t,selectors:[["app-searcher"]],decls:1,vars:1,consts:[["class","searcher",4,"ngIf"],[1,"searcher"],[1,"searcher__icon"],["width","20","height","20","viewBox","0 0 20 20","aria-hidden","true",1,"DocSearch-Search-Icon"],["d","M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z","stroke","currentColor","fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],["type","text","placeholder","Search",1,"searcher__input",3,"ngModelChange","keyup.enter","keyup.esc","ngModel","disabled"],["class","searcher__results",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],[1,"searcher__results"]],template:function(i,o){i&1&&tt(0,Kn,13,13,"div",0),i&2&&N("ngIf",o.showSearcher)},dependencies:[Et,Ve,He,Ge,xt],styles:[".searcher[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 10px 0 18px;height:60px;box-shadow:0 4px 4px #00000040;background-color:#fff;border-radius:6px;position:relative;display:flex;align-items:center}.searcher__icon[_ngcontent-%COMP%]{align-items:center;color:#869ab8;display:flex;justify-content:center}.searcher__icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:19px;width:19px}.searcher__input[_ngcontent-%COMP%]{flex:auto;padding:0;margin:0 8px;border:0}.searcher__input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#161c2d;font-weight:900}.searcher__input[_ngcontent-%COMP%]::placeholder{color:#161c2d;font-weight:900}.searcher__input[_ngcontent-%COMP%]:focus{outline:none}.searcher__input[_ngcontent-%COMP%]:disabled{background-color:#fff}@media (max-width: 575.98px){.searcher__input[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}}.searcher__results[_ngcontent-%COMP%]{color:#869ab8;font-size:12px;font-weight:900;letter-spacing:.06rem;margin-right:19px}@media (max-width: 575.98px){.searcher__results[_ngcontent-%COMP%]{position:absolute;bottom:calc(100% + 6px);right:0;margin-right:0}}@media (max-width: 575.98px){.searcher[_ngcontent-%COMP%]{padding-left:6px;padding-right:6px}}"]});let e=t;return e})();var qe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=U({type:t,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"container"],[1,"text-center","m-0"]],template:function(i,o){i&1&&(x(0,"div",0)(1,"footer")(2,"p",1),D(3,"Landkit. \xA9 all rights reserved 2021"),I()()())},styles:["[_nghost-%COMP%]{background-color:#f5f5f5;display:flex;width:100%}footer[_ngcontent-%COMP%]{height:70px;display:flex;align-items:center;flex-direction:column;justify-content:center}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:17px;color:#000}@media (max-width: 575.98px){footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 575.98px){footer[_ngcontent-%COMP%]{height:40px}}"]});let e=t;return e})();var Qe=(()=>{let t=class t{constructor(n,i,o,a){this.store=n,this.authService=i,this.router=o,this.activatedRoute=a,this.store.dispatch(y.loadPosts()),this.store.select(T.getDataBaseData).pipe(ht(1)).subscribe(s=>{console.log("DB: ",s),this.store.dispatch(y.login({email:"manfredalberto@gmail.com",password:"123"}))}),console.log("AUTH1: ",this.authService.isAuthenticated()),setTimeout(()=>{console.log("AUTH2: ",this.authService.isAuthenticated())},5e3),this.router.events.subscribe(s=>{if(s instanceof we){let p=s.url.substring(1);this.store.dispatch(y.changedView({view:p}))}})}};t.\u0275fac=function(i){return new(i||t)(F(O),F(Ct),F(je),F(Me))},t.\u0275cmp=U({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container","mt-5","mb-3","mb-lg-5"]],template:function(i,o){i&1&&($(0,"app-header"),x(1,"div",0),$(2,"app-searcher"),I(),$(3,"router-outlet")(4,"app-footer"))},dependencies:[De,Je,Ye,qe]});let e=t;return e})();var qn={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ot="__@ngrx/effects_create__";function nt(e,t={}){let r=t.functional?e:e(),n=R(R({},qn),t);return Object.defineProperty(r,Ot,{value:n}),r}function Qn(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(Ot)?e[n][Ot].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][Ot];return R({propertyName:n},i)})}function ti(e){return Qn(e)}function rn(e){return Object.getPrototypeOf(e)}function ei(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function on(e){return typeof e=="function"}function tn(e){return e.filter(on)}function ni(e){return e instanceof _||on(e)}function ii(e,t,r){let n=rn(e),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,a=ti(e).map(({propertyName:s,dispatch:p,useEffectsErrorHandler:l})=>{let f=typeof e[s]=="function"?e[s]():e[s],c=l?r(f,t):f;return p===!1?c.pipe(fe()):c.pipe(ue()).pipe(E(b=>({effect:e[s],notification:b,propertyName:s,sourceName:o,sourceInstance:e})))});return Y(...a)}var ri=10;function sn(e,t,r=ri){return e.pipe(W(n=>(t&&t.handleError(n),r<=1?e:sn(e,t,r-1))))}var cn=(()=>{let t=class t extends ot{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}};t.\u0275fac=function(i){return new(i||t)(u(bt))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function it(...e){return P(t=>e.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var an=new _("@ngrx/effects Internal Root Guard"),_t=new _("@ngrx/effects User Provided Effects"),Ut=new _("@ngrx/effects Internal Root Effects"),fn=new _("@ngrx/effects Internal Root Effects Instances"),en=new _("@ngrx/effects Internal Feature Effects"),pn=new _("@ngrx/effects Internal Feature Effects Instance Groups"),oi=new _("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>sn}),un="@ngrx/effects/init",ar=Fe(un);function si(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!ci(r)&&t.handleError(new Error(`Effect ${ai(e)} dispatched an invalid action: ${fi(r)}`))}}function ci(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function ai({propertyName:e,sourceInstance:t,sourceName:r}){let n=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function fi(e){try{return JSON.stringify(e)}catch{return e}}var pi="ngrxOnIdentifyEffects";function ui(e){return zt(e,pi)}var li="ngrxOnRunEffects";function di(e){return zt(e,li)}var hi="ngrxOnInitEffects";function mi(e){return zt(e,hi)}function zt(e,t){return e&&t in e&&typeof e[t]=="function"}var ln=(()=>{let t=class t extends ie{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(Rt(n=>ei(n)?rn(n):n),kt(n=>n.pipe(Rt(gi))),kt(n=>{let i=n.pipe(st(a=>vi(this.errorHandler,this.effectsErrorHandler)(a)),E(a=>(si(a,this.errorHandler),a.notification)),P(a=>a.kind==="N"&&a.value!=null),pe()),o=n.pipe(dt(1),P(mi),E(a=>a.ngrxOnInitEffects()));return Y(i,o)}))}};t.\u0275fac=function(i){return new(i||t)(u(gt),u(oi))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function gi(e){return ui(e)?e.ngrxOnIdentifyEffects():""}function vi(e,t){return r=>{let n=ii(r,e,t);return di(r)?r.ngrxOnRunEffects(n):n}}var dn=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(u(ln),u(O))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hn=(()=>{let t=class t{constructor(n,i,o,a,s,p,l){this.sources=n,i.start();for(let f of a)n.addEffects(f);o.dispatch({type:un})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(i){return new(i||t)(u(ln),u(dn),u(O),u(fn),u(Lt,8),u(Bt,8),u(an,8))},t.\u0275mod=z({type:t}),t.\u0275inj=B({});let e=t;return e})(),Si=(()=>{let t=class t{constructor(n,i,o,a){let s=i.flat();for(let p of s)n.addEffects(p)}};t.\u0275fac=function(i){return new(i||t)(u(hn),u(pn),u(Lt,8),u(Bt,8))},t.\u0275mod=z({type:t}),t.\u0275inj=B({});let e=t;return e})(),mn=(()=>{let t=class t{static forFeature(...n){let i=n.flat(),o=tn(i);return{ngModule:Si,providers:[o,{provide:en,multi:!0,useValue:i},{provide:_t,multi:!0,useValue:[]},{provide:pn,multi:!0,useFactory:nn,deps:[en,_t]}]}}static forRoot(...n){let i=n.flat(),o=tn(i);return{ngModule:hn,providers:[o,{provide:Ut,useValue:[i]},{provide:an,useFactory:yi},{provide:_t,multi:!0,useValue:[]},{provide:fn,useFactory:nn,deps:[Ut,_t]}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=z({type:t}),t.\u0275inj=B({});let e=t;return e})();function nn(e,t){let r=[];for(let n of e)r.push(...n);for(let n of t)r.push(...n);return r.map(n=>ni(n)?Q(n):n)}function yi(){let e=Q(dn,{optional:!0,skipSelf:!0}),t=Q(Ut,{self:!0});if(!(t.length===1&&t[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var gn=(()=>{let t=class t{constructor(n,i){this.http=n,this.store=i,this._apiUrl="https://my-json-server.typicode.com/manfredmarcano/blog-app",this._pagination="",this.store.select(T.getPagination).subscribe(o=>this._pagination=o)}getData(){return this.http.get(`${this._apiUrl}/posts${this._pagination}`)}getDataBaseData(){return this.http.get(`${this._apiUrl}/db`)}};t.\u0275fac=function(i){return new(i||t)(u(_e),u(O))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var vn=(()=>{let t=class t{constructor(n,i,o,a){this.actions$=n,this.dataService=i,this.authService=o,this.store=a,this.loadPosts$=nt(()=>this.actions$.pipe(it(y.loadPosts),st(s=>this.dataService.getData().pipe(E(p=>y.loadPostsSuccess({posts:p})),W(p=>Z(y.loadPostsFailure({error:p}))))))),this.loadPostsSuccess$=nt(()=>this.actions$.pipe(it(y.loadPostsSuccess),E(s=>y.loadDBData()))),this.searchPosts$=nt(()=>this.actions$.pipe(it(y.searchPosts),lt(500),q(({search:s,view:p})=>Z(y.searchPostsSuccess({search:s,view:p}))))),this.loadDBData$=nt(()=>this.actions$.pipe(it(y.loadDBData),st(s=>this.dataService.getDataBaseData().pipe(E(p=>y.loadDBDataSuccess({db:{users:p.users,favorites:p.favorites}})),W(p=>Z(y.loadDBDataFailure({error:p}))))))),this.login$=nt(()=>this.actions$.pipe(it(y.login),q(({email:s,password:p})=>this.store.select(T.getDataBaseData).pipe(E(l=>this.authService.isUserInDataBase(l,s)?y.loginSuccess({token:s}):y.loginFailure({error:"Invalid user data"}))))))}};t.\u0275fac=function(i){return new(i||t)(u(cn),u(gn),u(Ct),u(O))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ut="PERFORM_ACTION",Ii="REFRESH",bn="RESET",Cn="ROLLBACK",_n="COMMIT",On="SWEEP",Tn="TOGGLE_ACTION",bi="SET_ACTIONS_ACTIVE",An="JUMP_TO_STATE",wn="JUMP_TO_ACTION",ee="IMPORT_STATE",Mn="LOCK_CHANGES",Dn="PAUSE_RECORDING",rt=class{constructor(t,r){if(this.action=t,this.timestamp=r,this.type=ut,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Vt=class{constructor(){this.type=Ii}},Ht=class{constructor(t){this.timestamp=t,this.type=bn}},Gt=class{constructor(t){this.timestamp=t,this.type=Cn}},Zt=class{constructor(t){this.timestamp=t,this.type=_n}},Wt=class{constructor(){this.type=On}},Kt=class{constructor(t){this.id=t,this.type=Tn}};var Xt=class{constructor(t){this.index=t,this.type=An}},Jt=class{constructor(t){this.actionId=t,this.type=wn}},Yt=class{constructor(t){this.nextLiftedState=t,this.type=ee}},qt=class{constructor(t){this.status=t,this.type=Mn}},Qt=class{constructor(t){this.status=t,this.type=Dn}};var Mt=new _("@ngrx/store-devtools Options"),Sn=new _("@ngrx/store-devtools Initial Config");function jn(){return null}var Ci="NgRx Store DevTools";function _i(e){let t={maxAge:!1,monitor:jn,actionSanitizer:void 0,stateSanitizer:void 0,name:Ci,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof e=="function"?e():e,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||n||t.features;i.import===!0&&(i.import="custom");let o=Object.assign({},t,{features:i},r);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function yn(e,t){return e.filter(r=>t.indexOf(r)<0)}function kn(e){let{computedStates:t,currentStateIndex:r}=e;if(r>=t.length){let{state:i}=t[t.length-1];return i}let{state:n}=t[r];return n}function pt(e){return new rt(e,+Date.now())}function Oi(e,t){return Object.keys(t).reduce((r,n)=>{let i=Number(n);return r[i]=Pn(e,t[i],i),r},{})}function Pn(e,t,r){return J(R({},t),{action:e(t.action,r)})}function Ti(e,t){return t.map((r,n)=>({state:Rn(e,r.state,n),error:r.error}))}function Rn(e,t,r){return e(t,r)}function Fn(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Ai(e,t,r,n){let i=[],o={},a=[];return e.stagedActionIds.forEach((s,p)=>{let l=e.actionsById[s];l&&(p&&ne(e.computedStates[p],l,t,r,n)||(o[s]=l,i.push(s),a.push(e.computedStates[p])))}),J(R({},e),{stagedActionIds:i,actionsById:o,computedStates:a})}function ne(e,t,r,n,i){let o=r&&!r(e,t.action),a=n&&!t.action.type.match(n.map(p=>En(p)).join("|")),s=i&&t.action.type.match(i.map(p=>En(p)).join("|"));return o||a||s}function En(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Nn(e){return{ngZone:e?Q(Se):null,connectInZone:e}}var Dt=(()=>{let t=class t extends It{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ve(t)))(o||t)}})(),t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),Tt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},te=new _("@ngrx/store-devtools Redux Devtools Extension"),$n=(()=>{let t=class t{constructor(n,i,o){this.config=i,this.dispatcher=o,this.zoneConfig=Nn(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===ut){if(i.isLocked||i.isPaused)return;let o=kn(i);if(Fn(this.config)&&ne(o,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let a=this.config.stateSanitizer?Rn(this.config.stateSanitizer,o,i.currentStateIndex):o,s=this.config.actionSanitizer?Pn(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,a))}else{let o=J(R({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?Oi(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?Ti(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ot(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(o=>n.next(o)),i.unsubscribe}):se}createActionStreams(){let n=this.createChangesObservable().pipe(de()),i=n.pipe(P(f=>f.type===Tt.START)),o=n.pipe(P(f=>f.type===Tt.STOP)),a=n.pipe(P(f=>f.type===Tt.DISPATCH),E(f=>this.unwrapAction(f.payload)),Pt(f=>f.type===ee?this.dispatcher.pipe(P(c=>c.type===$t),ae(1e3),lt(1e3),E(()=>f),W(()=>Z(f)),dt(1)):Z(f))),p=n.pipe(P(f=>f.type===Tt.ACTION),E(f=>this.unwrapAction(f.payload))).pipe(mt(o)),l=a.pipe(mt(o));this.start$=i.pipe(mt(o)),this.actions$=this.start$.pipe(q(()=>p)),this.liftedActions$=this.start$.pipe(q(()=>l))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};t.\u0275fac=function(i){return new(i||t)(u(te),u(Mt),u(Dt))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),wt={type:Nt},wi="@ngrx/store-devtools/recompute",Mi={type:wi};function Ln(e,t,r,n,i){if(n)return{state:r,error:"Interrupted by an error up the chain"};let o=r,a;try{o=e(r,t)}catch(s){a=s.toString(),i.handleError(s)}return{state:o,error:a}}function At(e,t,r,n,i,o,a,s,p){if(t>=e.length&&e.length===o.length)return e;let l=e.slice(0,t),f=o.length-(p?1:0);for(let c=t;c<f;c++){let m=o[c],b=i[m].action,h=l[c-1],d=h?h.state:n,j=h?h.error:void 0,k=a.indexOf(m)>-1?h:Ln(r,b,d,j,s);l.push(k)}return p&&l.push(e[e.length-1]),l}function Di(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:pt(wt)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function ji(e,t,r,n,i={}){return o=>(a,s)=>{let{monitorState:p,actionsById:l,nextActionId:f,stagedActionIds:c,skippedActionIds:m,committedState:b,currentStateIndex:h,computedStates:d,isLocked:j,isPaused:C}=a||t;a||(l=Object.create(l));function k(S){let v=S,L=c.slice(1,v+1);for(let w=0;w<L.length;w++)if(d[w+1].error){v=w,L=c.slice(1,v+1);break}else delete l[L[w]];m=m.filter(w=>L.indexOf(w)===-1),c=[0,...c.slice(v+1)],b=d[v].state,d=d.slice(v),h=h>v?h-v:0}function X(){l={0:pt(wt)},f=1,c=[0],m=[],b=d[h].state,h=0,d=[]}let g=0;switch(s.type){case Mn:{j=s.status,g=1/0;break}case Dn:{C=s.status,C?(c=[...c,f],l[f]=new rt({type:"@ngrx/devtools/pause"},+Date.now()),f++,g=c.length-1,d=d.concat(d[d.length-1]),h===c.length-2&&h++,g=1/0):X();break}case bn:{l={0:pt(wt)},f=1,c=[0],m=[],b=e,h=0,d=[];break}case _n:{X();break}case Cn:{l={0:pt(wt)},f=1,c=[0],m=[],h=0,d=[];break}case Tn:{let{id:S}=s;m.indexOf(S)===-1?m=[S,...m]:m=m.filter(L=>L!==S),g=c.indexOf(S);break}case bi:{let{start:S,end:v,active:L}=s,w=[];for(let jt=S;jt<v;jt++)w.push(jt);L?m=yn(m,w):m=[...m,...w],g=c.indexOf(S);break}case An:{h=s.index,g=1/0;break}case wn:{let S=c.indexOf(s.actionId);S!==-1&&(h=S),g=1/0;break}case On:{c=yn(c,m),m=[],h=Math.min(h,c.length-1);break}case ut:{if(j)return a||t;if(C||a&&ne(a.computedStates[h],s,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let v=d[d.length-1];d=[...d.slice(0,-1),Ln(o,s.action,v.state,v.error,r)],g=1/0;break}i.maxAge&&c.length===i.maxAge&&k(1),h===c.length-1&&h++;let S=f++;l[S]=s,c=[...c,S],g=c.length-1;break}case ee:{({monitorState:p,actionsById:l,nextActionId:f,stagedActionIds:c,skippedActionIds:m,committedState:b,currentStateIndex:h,computedStates:d,isLocked:j,isPaused:C}=s.nextLiftedState);break}case Nt:{g=0,i.maxAge&&c.length>i.maxAge&&(d=At(d,g,o,b,l,c,m,r,C),k(c.length-i.maxAge),g=1/0);break}case $t:{if(d.filter(v=>v.error).length>0)g=0,i.maxAge&&c.length>i.maxAge&&(d=At(d,g,o,b,l,c,m,r,C),k(c.length-i.maxAge),g=1/0);else{if(!C&&!j){h===c.length-1&&h++;let v=f++;l[v]=new rt(s,+Date.now()),c=[...c,v],g=c.length-1,d=At(d,g,o,b,l,c,m,r,C)}d=d.map(v=>J(R({},v),{state:o(v.state,Mi)})),h=c.length-1,i.maxAge&&c.length>i.maxAge&&k(c.length-i.maxAge),g=1/0}break}default:{g=1/0;break}}return d=At(d,g,o,b,l,c,m,r,C),p=n(p,s),{monitorState:p,actionsById:l,nextActionId:f,stagedActionIds:c,skippedActionIds:m,committedState:b,currentStateIndex:h,computedStates:d,isLocked:j,isPaused:C}}}var xn=(()=>{let t=class t{constructor(n,i,o,a,s,p,l,f){let c=Di(l,f.monitor),m=ji(l,c,p,f.monitor,f),b=Y(Y(i.asObservable().pipe(ht(1)),a.actions$).pipe(E(pt)),n,a.liftedActions$).pipe(ce(oe)),h=o.pipe(E(m)),d=Nn(f.connectInZone),j=new re(1);this.liftedStateSubscription=b.pipe(he(h),In(d),le(({state:X},[g,S])=>{let v=S(X,g);return g.type!==ut&&Fn(f)&&(v=Ai(v,f.predicate,f.actionsSafelist,f.actionsBlocklist)),a.notify(g,v),{state:v,action:g}},{state:c,action:null})).subscribe(({state:X,action:g})=>{if(j.next(X),g.type===ut){let S=g.action;s.next(S)}}),this.extensionStartSubscription=a.start$.pipe(In(d)).subscribe(()=>{this.refresh()});let C=j.asObservable(),k=C.pipe(E(kn));Object.defineProperty(k,"state",{value:Re(k,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=C,this.state=k}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new rt(n,+Date.now()))}refresh(){this.dispatch(new Vt)}reset(){this.dispatch(new Ht(+Date.now()))}rollback(){this.dispatch(new Gt(+Date.now()))}commit(){this.dispatch(new Zt(+Date.now()))}sweep(){this.dispatch(new Wt)}toggleAction(n){this.dispatch(new Kt(n))}jumpToAction(n){this.dispatch(new Jt(n))}jumpToState(n){this.dispatch(new Xt(n))}importState(n){this.dispatch(new Yt(n))}lockChanges(n){this.dispatch(new qt(n))}pauseRecording(n){this.dispatch(new Qt(n))}};t.\u0275fac=function(i){return new(i||t)(u(Dt),u(It),u($e),u($n),u(bt),u(gt),u(Ne),u(Mt))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})();function In({ngZone:e,connectInZone:t}){return r=>t?new ot(n=>r.subscribe({next:i=>e.run(()=>n.next(i)),error:i=>e.run(()=>n.error(i)),complete:()=>e.run(()=>n.complete())})):r}var ki=new _("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Pi(e,t){return!!e||t.monitor!==jn}function Ri(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Fi(e={}){return Ft([$n,Dt,xn,{provide:Sn,useValue:e},{provide:ki,deps:[te,Mt],useFactory:Pi},{provide:te,useFactory:Ri},{provide:Mt,deps:[Sn],useFactory:_i},{provide:Be,deps:[xn],useFactory:Ni},{provide:Le,useExisting:Dt}])}function Ni(e){return e.state}var Bn=(()=>{let t=class t{static instrument(n={}){return{ngModule:t,providers:[Fi(n)]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=z({type:t}),t.\u0275inj=B({});let e=t;return e})();var Un=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=z({type:t,bootstrap:[Qe]}),t.\u0275inj=B({providers:[Oe()],imports:[Ae,Xe,Ze,Ke,Ue.forRoot(ze),mn.forRoot([vn]),Bn.instrument({maxAge:25,logOnly:!Ce(),autoPause:!0,trace:!1,traceLimit:75,connectInZone:!0})]});let e=t;return e})();Te().bootstrapModule(Un,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
